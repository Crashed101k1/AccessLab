<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AccessLab - Configuración del Sistema</title>
    <link rel="icon" href="../../public/images/AccessLabLogo.png" type="image/png">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome para iconos -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- CSS personalizado para configuración -->
    <link rel="stylesheet" href="../css/configuracion-admin.css">
</head>
<body>
    <!-- Header Principal -->
    <header class="main-header">
        <div class="header-content">
            <div class="logo-section">
                <img src="../../public/images/AccessLabLogo.png" alt="AccessLab Logo">
                <div>
                    <h1 class="welcome-text">Configuración</h1>
                </div>
            </div>
            <div class="header-icons">
                <button class="header-icon" title="Regresar" onclick="goBack()">
                    <i class="fas fa-angle-double-left"></i>
                </button>
                <button class="header-icon" title="Inicio" onclick="navigateTo('home')">
                    <i class="fas fa-home"></i>
                </button>
                <button class="header-icon" title="Notificaciones" style="position: relative;">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge">1</span>
                </button>
                <button class="header-icon logout-icon" title="Cerrar Sesión" onclick="logout()">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Sección de Configuración -->
    <section class="config-section">
        <div class="container">
            <div class="config-container">
                <!-- Información del Sistema -->
                <div class="system-info-container">
                    <div class="system-logo">
                        <img src="../../public/images/AccessLabLogo.png" alt="AccessLab System Logo" class="system-logo-img">
                    </div>
                    <div class="system-details">
                        <h2 class="info-title">Información del Sistema</h2>
                        <div class="info-item">
                            <span class="info-label">Versión:</span>
                            <span class="info-value">0.0.0</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Nombre:</span>
                            <span class="info-value">AccessLab</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Equipo Desarrollador:</span>
                        </div>
                        <div class="developer-item">
                            <span class="developer-name">Gael Maximiliano Velazquez Barrera</span>
                            <span class="developer-role">(BackEnd)</span>
                        </div>
                        <div class="developer-item">
                            <span class="developer-name">Jonhatan Gabriel Francisco</span>
                            <span class="developer-role">(FrontEnd)</span>
                        </div>
                        <div class="info-item university">
                            <span class="university-name">Universidad Tecnológica de Morelia (UTM)</span>
                        </div>
                    </div>
                </div>

                <!-- Botones de Acción -->
                <div class="action-buttons">
                    <div class="button-row">
                        <button class="action-btn backup-btn" onclick="handleBackup()">
                            Respaldos
                        </button>
                        <button class="action-btn reports-btn" onclick="handleReports()">
                            Reportes
                        </button>
                        <button id="activity-toggle-btn" class="action-btn terminate-btn" onclick="handleActivityToggle()">
                            Termino de Actividades
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal de Confirmación para Terminar Actividades -->
    <div id="terminateModal" class="modal-overlay" style="display: none;">
        <div class="modal-container">
            <div class="modal-content">
                <p class="modal-text">
                    Una vez confirmado el termino de actividades no se permitirá el acceso a la plataforma a Usuarios con el rol: "Maestro" y "Técnico" Hasta que se Inicien Actividades nuevamente y solo realizar actividades de asignación.
                </p>
                <p class="modal-question">
                    ¿Esta seguro que desea continuar?
                </p>
                <div class="modal-buttons">
                    <button class="modal-btn confirm-btn" onclick="confirmTerminateAction()">SI</button>
                    <button class="modal-btn cancel-btn" onclick="closeTerminateModal()">NO</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Confirmación para Iniciar Actividades -->
    <div id="startModal" class="modal-overlay" style="display: none;">
        <div class="modal-container">
            <div class="modal-content">
                <p class="modal-text">
                    Una vez confirmado el inicio de actividades se permitirá el acceso completo a la plataforma a todos los Usuarios con los roles: "Maestro" y "Técnico" para realizar todas las funciones del sistema.
                </p>
                <p class="modal-question">
                    ¿Esta seguro que desea continuar?
                </p>
                <div class="modal-buttons">
                    <button class="modal-btn confirm-btn" onclick="confirmStartAction()">SI</button>
                    <button class="modal-btn cancel-btn" onclick="closeStartModal()">NO</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Programar Respaldos -->
    <div id="backupModal" class="modal-overlay" style="display: none;">
        <div class="modal-container backup-modal">
            <div class="modal-content">
                <h2 class="modal-title">Programar Horarios de Respaldo</h2>
                
                <div class="backup-form">
                    <div class="schedule-area">
                        <div class="select-container">
                            <select id="backupTimeSelect" class="backup-select">
                                <option value="">Seleccione la hora para respaldar</option>
                                <option value="01:00">01:00 AM</option>
                                <option value="02:00">02:00 AM</option>
                                <option value="03:00">03:00 AM</option>
                                <option value="04:00">04:00 AM</option>
                                <option value="05:00">05:00 AM</option>
                                <option value="23:00">11:00 PM</option>
                                <option value="00:00">12:00 AM</option>
                            </select>
                        </div>
                        
                        <button class="add-schedule-btn" onclick="addSchedule()">
                            <i class="fas fa-plus-circle"></i>
                            Agregar Horario
                        </button>
                        
                        <div id="scheduleList" class="schedule-list">
                            <!-- Los horarios programados aparecerán aquí -->
                        </div>
                    </div>
                </div>
                
                <div class="modal-buttons backup-buttons">
                    <button class="modal-btn save-btn" onclick="saveBackupSchedule()">Guardar</button>
                    <button class="modal-btn cancel-btn" onclick="closeBackupModal()">Cancelar</button>
                    <button class="modal-btn backup-now-btn" onclick="backupNow()">Respaldar Ahora</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="main-footer">
        <div class="footer-content">
            <div class="footer-center">
                <p><strong>AccessLab Todos los Derechos Reservados 2025</strong></p>
                <p>Universidad Tecnológica de Morelia</p>
            </div>
            <div class="footer-logo">
                <img src="../../public/images/UTM.png" alt="UTM Logo" class="utm-logo">
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Script personalizado para configuración -->
    <script src="../../shared/navigation-utils.js"></script>
    <script src="../js/configuracion-admin.js"></script>
</body>
</html>